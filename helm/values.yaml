namespace: fishing-map
namespace_create: false

secrets:
  enabled: true
  database:
    host: ""        # REQUIRED: --set secrets.database.host=xxx
    port: ""        # REQUIRED: --set secrets.database.port=xxx
    name: ""        # REQUIRED: --set secrets.database.name=xxx
    user: ""        # REQUIRED: --set secrets.database.user=xxx
    password: ""    # REQUIRED: --set secrets.database.password=xxx
    schema: "fishing_map"
    ssl: "true"
  redis:
    password: ""    # REQUIRED: --set secrets.redis.password=xxx
  jwt:
    secret: ""      # REQUIRED: --set secrets.jwt.secret=xxx
    refreshSecret: ""
    expiresIn: "3600"
  weather:
    apiKey: ""      # REQUIRED: --set secrets.weather.apiKey=xxx
  spaces:
    accessKey: ""   # REQUIRED: --set secrets.spaces.accessKey=xxx
    secretKey: ""
    endpoint: ""
    bucket: ""
    region: "nyc3"
    cdnUrl: ""

configmap:
  enabled: true

certManager:
  enabled: true
  email: admin@fishingmap.com.br

resourceQuota:
  enabled: true
  requests:
    cpu: "4"
    memory: "8Gi"
  limits:
    cpu: "8"
    memory: "16Gi"
  pvcs: "10"
  loadbalancers: "1"

podDisruptionBudget:
  enabled: true
  minAvailable: 1

hpa:
  enabled: true
  minReplicas: 1
  maxReplicas: 2
  targetCPUUtilization: 70
  targetMemoryUtilization: 80

redis:
  enabled: true
  image:
    repository: redis
    tag: "7-alpine"
    pullPolicy: IfNotPresent
  resources:
    requests:
      memory: "128Mi"
      cpu: "100m"
    limits:
      memory: "256Mi"
      cpu: "200m"
  storage:
    enabled: true
    size: 5Gi
    storageClassName: do-block-storage

pgadmin:
  enabled: false
  image:
    repository: dpage/pgadmin4
    tag: "latest"
    pullPolicy: IfNotPresent
  adminEmail: "adm.fishingmap@gmail.com"
  adminPassword: "Fishingmap@2025"  # Set via --set pgadmin.adminPassword or GitHub secret
  database:
    host: ""
    port: "25060"
    user: ""
    password: ""
  resources:
    requests:
      memory: "256Mi"
      cpu: "100m"
    limits:
      memory: "512Mi"
      cpu: "500m"
  storage:
    enabled: true
    size: 1Gi
    storageClassName: do-block-storage
  ingress:
    enabled: true
    host: pgadmin.fishingmap.com.br
    className: nginx
    tls:
      enabled: true
      secretName: pgadmin-tls

sonarqube:
  enabled: false
  image:
    repository: sonarqube
    tag: "10-community"
    pullPolicy: IfNotPresent
  postgres:
    image:
      repository: postgres
      tag: "15-alpine"
    database: sonarqube
    user: sonar
    password: sonarpassword
    resources:
      requests:
        memory: "128Mi"
        cpu: "50m"
      limits:
        memory: "256Mi"
        cpu: "150m"
  resources:
    requests:
      memory: "1536Mi"
      cpu: "400m"
    limits:
      memory: "2Gi"
      cpu: "1000m"
  javaOpts:
    web: "-Xms512m -Xmx512m"
    ce: "-Xms512m -Xmx512m"
    search: "-Xms512m -Xmx512m"
  storage:
    data:
      enabled: true
      size: 5Gi
      storageClassName: do-block-storage
    extensions:
      enabled: true
      size: 1Gi
      storageClassName: do-block-storage
  ingress:
    enabled: true
    host: sonarqube.fishingmap.com.br
    className: nginx
    tls:
      enabled: true
      secretName: sonarqube-tls

observability:
  enabled: false
  prometheus:
    image:
      repository: prom/prometheus
      tag: "v2.48.0"
    storage:
      size: 5Gi
      storageClassName: do-block-storage
    resources:
      requests:
        memory: "256Mi"
        cpu: "100m"
      limits:
        memory: "512Mi"
        cpu: "250m"
  grafana:
    image:
      repository: grafana/grafana
      tag: "10.2.2"
    adminPassword: "admin"
    storage:
      size: 10Gi
      storageClassName: do-block-storage
    resources:
      requests:
        memory: "128Mi"
        cpu: "50m"
      limits:
        memory: "256Mi"
        cpu: "150m"
  loki:
    image:
      repository: grafana/loki
      tag: "2.9.3"
    storage:
      size: 10Gi
      storageClassName: do-block-storage
    resources:
      requests:
        memory: "256Mi"
        cpu: "100m"
      limits:
        memory: "512Mi"
        cpu: "250m"
  promtail:
    image:
      repository: grafana/promtail
      tag: "2.9.3"
    resources:
      requests:
        memory: "128Mi"
        cpu: "50m"
      limits:
        memory: "256Mi"
        cpu: "100m"
  jaeger:
    image:
      repository: jaegertracing/all-in-one
      tag: "1.51"
    resources:
      requests:
        memory: "256Mi"
        cpu: "100m"
      limits:
        memory: "512Mi"
        cpu: "250m"

ingress:
  api:
    enabled: false
    host: api.fishingmap.com.br
  devtools:
    enabled: false

argocd:
  enabled: false
  ingress:
    enabled: true
    host: argocd.fishingmap.com.br

